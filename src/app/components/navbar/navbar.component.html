<nav
  [ngStyle]="{
    color:
      (themeService.usingDarkThemeSubject | push)
        ? 'white'
        : 'rgba(var(--brand-primary))'
  }"
  *ngIf="authService.userSubject | push as user"
>
  <a routerLink="/" class="logo" style="color: inherit">
    <svg
      class="logoSvg"
      stroke="currentColor"
      fill="currentColor"
      stroke-width="0"
      viewBox="0 0 16 16"
      xmlns="http://www.w3.org/2000/svg"
      height="2em"
      width="2em"
    >
      <path
        d="M5.026 15c6.038 0 9.341-5.003 9.341-9.334 0-.14 0-.282-.006-.422A6.685 6.685 0 0 0 16 3.542a6.658 6.658 0 0 1-1.889.518 3.301 3.301 0 0 0 1.447-1.817 6.533 6.533 0 0 1-2.087.793A3.286 3.286 0 0 0 7.875 6.03a9.325 9.325 0 0 1-6.767-3.429 3.289 3.289 0 0 0 1.018 4.382A3.323 3.323 0 0 1 .64 6.575v.045a3.288 3.288 0 0 0 2.632 3.218 3.203 3.203 0 0 1-.865.115 3.23 3.23 0 0 1-.614-.057 3.283 3.283 0 0 0 3.067 2.277A6.588 6.588 0 0 1 .78 13.58a6.32 6.32 0 0 1-.78-.045A9.344 9.344 0 0 0 5.026 15z"
      ></path>
    </svg>
  </a>

  <a
    routerLink="home"
    routerLinkActive="active"
    [routerLinkActiveOptions]="{ exact: true }"
  >
    <button>
      <svg viewBox="0 0 24 24">
        <g>
          <path
            d="M12 1.696L.622 8.807l1.06 1.696L3 9.679V19.5C3 20.881 4.119 22 5.5 22h13c1.381 0 2.5-1.119 2.5-2.5V9.679l1.318.824 1.06-1.696L12 1.696zM12 16.5c-1.933 0-3.5-1.567-3.5-3.5s1.567-3.5 3.5-3.5 3.5 1.567 3.5 3.5-1.567 3.5-3.5 3.5z"
          ></path>
        </g>
      </svg>

      <span class="navItemLabel">Home</span>
    </button>
  </a>
  <a routerLink="/search" routerLinkActive="exploreActive" class="explore">
    <button>
      <svg viewBox="0 0 24 24" aria-hidden="true">
        <g>
          <path
            d="M10.09 3.098L9.72 7h5.99l.39-4.089 1.99.187L17.72 7h3.78v2h-3.97l-.56 6h3.53v2h-3.72l-.38 4.089-1.99-.187.36-3.902H8.78l-.38 4.089-1.99-.187L6.77 17H2.5v-2h4.46l.56-6H3.5V7h4.21l.39-4.089 1.99.187zM14.96 15l.56-6H9.53l-.56 6h5.99z"
          ></path>
        </g>
      </svg>

      <span class="navItemLabel">Explore</span>
    </button>
  </a>
  <a
    routerLinkActive="active"
    [routerLink]="'/' + (authService.userSubject | push)?.username"
  >
    <button>
      <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
        <path
          d="M 11.998 13.339 C 15.324 13.339 18.022 10.64 18.022 7.316 C 18.022 3.989 15.324 1.292 11.998 1.292 C 8.672 1.292 5.976 3.989 5.976 7.316 C 5.976 10.64 8.672 13.339 11.998 13.339 Z M 17.355 14.675 L 15.047 14.675 C 14.12 15.104 13.088 15.345 11.998 15.345 C 10.912 15.345 9.882 15.104 8.951 14.675 L 6.645 14.675 C 3.689 14.675 1.292 17.072 1.292 20.031 L 1.292 20.698 C 1.292 21.809 2.191 22.708 3.3 22.708 L 20.698 22.708 C 21.809 22.708 22.708 21.809 22.708 20.698 L 22.708 20.031 C 22.708 17.072 20.311 14.675 17.355 14.675 Z"
        ></path>
      </svg>
      <span class="navItemLabel">Profile</span>
    </button>
  </a>
  <button [matMenuTriggerFor]="menu">
    <svg
      class="moreSvg"
      viewBox="0 0 24 24"
      xmlns="http://www.w3.org/2000/svg"
      style="width: 1.8em"
    >
      <g transform="matrix(1.126776, 0, 0, 1.126776, -1.521312, -1.521312)">
        <path
          d="M3.75 12c0-4.56 3.69-8.25 8.25-8.25s8.25 3.69 8.25 8.25-3.69 8.25-8.25 8.25S3.75 16.56 3.75 12zM12 1.75C6.34 1.75 1.75 6.34 1.75 12S6.34 22.25 12 22.25 22.25 17.66 22.25 12 17.66 1.75 12 1.75zm-4.75 11.5c.69 0 1.25-.56 1.25-1.25s-.56-1.25-1.25-1.25S6 11.31 6 12s.56 1.25 1.25 1.25zm9.5 0c.69 0 1.25-.56 1.25-1.25s-.56-1.25-1.25-1.25-1.25.56-1.25 1.25.56 1.25 1.25 1.25zM13.25 12c0 .69-.56 1.25-1.25 1.25s-1.25-.56-1.25-1.25.56-1.25 1.25-1.25 1.25.56 1.25 1.25z"
          style="stroke-width: 0px"
        ></path>
      </g>
    </svg>
    <span class="navItemLabel">More</span>
  </button>
  <mat-menu #menu class="menu">
    <app-settings-menu></app-settings-menu>
  </mat-menu>
  <button [matMenuTriggerFor]="userMenu" class="userAvatar">
    <img
      [src]="
        domain + '/users/' + user.username + '/profile_pic/' + user.profile_pic
      "
      width="38px"
      class="profile_pic"
      (error)="onImageError($event)"
    />
    <div class="userAvatarLabel">
      <span>{{ user.name }}</span>
      <span>&#64;{{ user.username }}</span>
    </div>
  </button>
  <mat-menu #userMenu class="menu">
    <app-user-menu></app-user-menu>
  </mat-menu>
</nav>
